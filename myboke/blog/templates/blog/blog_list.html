{% extends 'base.html' %}
{% load staticfiles %}
{# 页面标题 #}
{% block title %}我的网站{% endblock %}
{% block nav_blog %}active{% endblock %}
{% block style_css %}
    <link rel="stylesheet" href="{% static 'blog.css' %}">
{% endblock %}


{# 页面内容 #}
{% block content %}
    <div class="container-fluid">
        <div class="row">
            <div class="col-xs-12 col-sm-6 col-xs-offset-1">
                <div class="panel panel-default">
                    <div class="panel-heading">{% block blog_list_title %}博客(一共有{{ blogs|length }}篇博客){% endblock %}</div>
                    <div class="panel-boby">
                        {% for blog in blogs %}
                        <div class="blog">
                           <h3><a href="{% url 'blog_datail' blog.pk %}">{{ blog.title }}</a></h3>
                            <p class="blog-info">
                                <span class="glyphicon glyphicon-tag"></span><a href="{% url 'blogs_type' blog.type_name.pk %}">{{blog.type_name}}</a>
                                <span class="glyphicon glyphicon-time"></span>{{blog.created_time|date:"Y-m-d"}}
                            </p>
                            <p>{{ blog.content|truncatechars:200}}</p>
                        </div>
                        {% empty%}
                            <div class="blog">
                                <h3>-- 暂无博客 --</h3>
                            </div>

                        {% endfor %}
                    </div>
                </div>
            </div>
            <div class="hidden-xs col-sm-2">
                <div class="panel panel-default">
                    <div class="panel-heading">博客分类</div>
                    <div class="panel-boby">
                        {% for types in type_name %}
                        <ul class="blog_types">
                            <li><span class="glyphicon glyphicon-tag"></span><a href="{% url 'blogs_type' types.pk %}">{{types.type_name}}</a></li>
                        </ul>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

